const devRouter = require('express').Router()
const CONSTANTS = require('../common/constants')
const PouchDB = require('pouchdb')
const responses = require('../common/responses')
const Buffer = require('buffer').Buffer

devRouter.get('/cleandb', (req, res, next) => {
    let db = new PouchDB(CONSTANTS.DATABASE_NAME)
    db.destroy().then((state) => {
        if (state.ok) {
            res.status(200).end('Database cleaned up')
        }
        else {
            res.status(200).end('Impossible to destroy database')
        }
    })
})

devRouter.get('/audio', (req, res, next) => {
    let audio = "data:audio/mpeg;base64,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//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA";

    let audio2 = "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//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//NIxAAAAANIAAAAAExBTUUzLjk5LjUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA";
    let final = audio + audio2
    let buffered = Buffer.from(final, 'base64')
    let newAudio = new Uint8Array()

    // for (let buf of buffered) {
    //     console.log('Buf : ' + buf)
    //     if (buf > 0) {
    //         newAudio.push(buf)
    //     }
    // }
    let i = 0;
    do {
        let buf = buffered[i]
        if (buf > 0) {
            newAudio[i] = buf
            console.log("Buf : " + buf)
        }
        i++
    } while(i < buffered.length)
    newAudio = Buffer.from(newAudio).toString('base64')
    res.status(200).type('json').end(JSON.stringify(new responses.Response({ audio: Buffer.from(newAudio).toString('base64')})))
})

module.exports = devRouter